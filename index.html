<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="node_modules/bulma/css/bulma.css" />
        <link rel="stylesheet" href="custom_style.css"/>
        <link href="https://fonts.googleapis.com/css?family=Shrikhand&display=swap" rel="stylesheet">
        <title>Mapper</title>
    </head>
    <body>
        <main>
        </main>
    
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="node_modules/axios/dist/axios.min.js"></script>
    <script src="https://kit.fontawesome.com/3e308f3171.js" crossorigin="anonymous"></script>
    <script type="module" src="mapper.js"></script>


    <h1>View Google Map Below</h1>
    <div id="map"></div>
    <script>
        function initMap() {
            // Map Options
            let options = {
                zoom: 3,
                center: {lat:35.9132, lng:-79.0558}
            }

            // New map
            let map = new google.maps.Map(document.getElementById('map'), options);

        /*
            // Add start marker
            let s_marker = new google.maps.Marker({
                position: options.center,
                map: map
            });

            // Add destination marker
            let d_marker = new google.maps.Marker({
                position: {lat: 45.2618, lng:-111.3080},
                map: map
            });

            // Add start info window
            let s_infoWindow = new google.maps.InfoWindow({
                content: '<h1>Start</h1>'
            });

            // Add s_infoWindow as marker click event listener
            s_marker.addListener('click', function() {
                s_infoWindow.open(map, s_marker);
            });

             // Add destination info window
            let d_infoWindow = new google.maps.InfoWindow({
                content: '<h1>Destination</h1>'
            });
            
            // Add d_infoWindow as marker click event listener
            d_marker.addListener('click', function() {
                d_infoWindow.open(map, d_marker);
            });
        */

        

            // Array of Markers
            let markers = [
                // test marker #1
                {
                    coordinates: {lat: 45.2618, lng:-111.3080},
                    content: '<h1>this is a marker - u clicked me. thanks</h1>'
                },
            ];

            // Loop thru markers
            for (let i = 0; i < markers.length; i++) {
                addMarker(markers[i]);
            }


            function addMarker(properties) {
                let marker = new google.maps.Marker({
                    position: properties.coordinates,
                    map: map
                });

                // check if content exists
                if (properties.content) {
                    let infoWindow = new google.maps.InfoWindow({
                        content: properties.content
                    });

                    marker.addListener('click', function() {
                        infoWindow.open(map, marker);
                    });
                }
            }

        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhcNo_EDGsF_lGfThVgAVtweh_DlciUCQ&callback=initMap"></script>
    </body>

</html>